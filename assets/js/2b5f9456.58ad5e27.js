"use strict";(self.webpackChunkaurora_docs=self.webpackChunkaurora_docs||[]).push([[1506],{9613:(t,e,a)=>{a.d(e,{Zo:()=>m,kt:()=>s});var n=a(9496);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var d=n.createContext({}),o=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},m=function(t){var e=o(t.components);return n.createElement(d.Provider,{value:e},t.children)},k="mdxType",N={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,d=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),k=o(a),u=r,s=k["".concat(d,".").concat(u)]||k[u]||N[u]||l;return a?n.createElement(s,i(i({ref:e},m),{},{components:a})):n.createElement(s,i({ref:e},m))}));function s(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=u;var p={};for(var d in e)hasOwnProperty.call(e,d)&&(p[d]=e[d]);p.originalType=t,p[k]="string"==typeof t?t:r,i[1]=p;for(var o=2;o<l;o++)i[o]=a[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7035:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>N,frontMatter:()=>l,metadata:()=>p,toc:()=>o});var n=a(1163),r=(a(9496),a(9613));const l={title:"Precompiles",sidebar_position:2},i="Precompiles",p={unversionedId:"evm/precompiles",id:"evm/precompiles",title:"Precompiles",description:"The Aurora EVM supports all Ethereum precompiles as well as extra precompiles designed to interact",source:"@site/docs/evm/precompiles.md",sourceDirName:"evm",slug:"/evm/precompiles",permalink:"/evm/precompiles",draft:!1,editUrl:"https://github.com/aurora-is-near/doc.aurora.dev/edit/master/docs/evm/precompiles.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Precompiles",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Opcodes",permalink:"/evm/opcodes"},next:{title:"JSON-RPC",permalink:"/evm/rpc"}},d={},o=[{value:"ECRecover",id:"ecrecover",level:2},{value:"Inputs",id:"inputs",level:3},{value:"Output",id:"output",level:3},{value:"SHA2-256",id:"sha2-256",level:2},{value:"Inputs",id:"inputs-1",level:3},{value:"Output",id:"output-1",level:3},{value:"RIPEMD-160",id:"ripemd-160",level:2},{value:"Inputs",id:"inputs-2",level:3},{value:"Output",id:"output-2",level:3},{value:"Identity",id:"identity",level:2},{value:"Inputs",id:"inputs-3",level:3},{value:"Output",id:"output-3",level:3},{value:"ModExp",id:"modexp",level:2},{value:"Inputs",id:"inputs-4",level:3},{value:"Output",id:"output-4",level:3},{value:"BN256 Add",id:"bn256-add",level:2},{value:"Inputs",id:"inputs-5",level:3},{value:"Output",id:"output-5",level:3},{value:"BN256 Multiply",id:"bn256-multiply",level:2},{value:"Inputs",id:"inputs-6",level:3},{value:"Output",id:"output-6",level:3},{value:"BN256 Pairing",id:"bn256-pairing",level:2},{value:"Inputs",id:"inputs-7",level:3},{value:"Output",id:"output-7",level:3},{value:"Blake2 F",id:"blake2-f",level:2},{value:"Inputs",id:"inputs-8",level:3},{value:"Output",id:"output-8",level:3},{value:"Random Seed",id:"random-seed",level:2},{value:"Inputs",id:"inputs-9",level:3},{value:"Output",id:"output-9",level:3},{value:"Predecessor Account ID",id:"predecessor-account-id",level:2},{value:"Inputs",id:"inputs-10",level:3},{value:"Output",id:"output-10",level:3},{value:"Get Promise Results",id:"get-promise-results",level:2},{value:"Inputs",id:"inputs-11",level:3},{value:"Output",id:"output-11",level:3},{value:"Prepaid Gas",id:"prepaid-gas",level:2},{value:"Inputs",id:"inputs-12",level:3},{value:"Output",id:"output-12",level:3},{value:"Exit to NEAR",id:"exit-to-near",level:2},{value:"Inputs",id:"inputs-13",level:3},{value:"ETH withdraw",id:"eth-withdraw",level:4},{value:"ERC-20 withdraw",id:"erc-20-withdraw",level:4},{value:"Output",id:"output-13",level:3},{value:"Exit to Ethereum",id:"exit-to-ethereum",level:2},{value:"Inputs",id:"inputs-14",level:3},{value:"ETH withdraw",id:"eth-withdraw-1",level:4},{value:"ERC-20 withdraw",id:"erc-20-withdraw-1",level:4},{value:"Output",id:"output-14",level:3}],m={toc:o},k="wrapper";function N(t){let{components:e,...a}=t;return(0,r.kt)(k,(0,n.Z)({},m,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"precompiles"},"Precompiles"),(0,r.kt)("p",null,"The Aurora EVM supports all Ethereum precompiles as well as extra precompiles designed to interact\nwith the NEAR blockchain. The ones denoted in ",(0,r.kt)("strong",{parentName:"p"},"bold")," are extra."),(0,r.kt)("p",null,"Definitions below from ",(0,r.kt)("a",{parentName:"p",href:"https://www.evm.codes/precompiled"},"evm.codes"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"exitToNear")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"exitToEthereum")," precompiles can only be invoked from Aurora EVM self-deployed\nNEP-141 mapped ERC-20 contract. These ERC-20 contracts are deployed by invoking\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"deploy_erc20_token")," function.")),(0,r.kt)("div",{class:"evm-precompiles"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Address"),(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Minimum Gas"),(0,r.kt)("th",{parentName:"tr",align:null},"Input"),(0,r.kt)("th",{parentName:"tr",align:null},"Output"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#ecrecover"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"ecRecover"),(0,r.kt)("td",{parentName:"tr",align:null},"3000"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"hash, v, r, s")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"publicAddress")),(0,r.kt)("td",{parentName:"tr",align:null},"Elliptic curve digital signature algorithm (ECDSA) public key recovery function")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#sha2-256"},"0x02")),(0,r.kt)("td",{parentName:"tr",align:null},"SHA2-256"),(0,r.kt)("td",{parentName:"tr",align:null},"60"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"hash")),(0,r.kt)("td",{parentName:"tr",align:null},"Hash function")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#ripemd-160"},"0x03")),(0,r.kt)("td",{parentName:"tr",align:null},"RIPEMD-160"),(0,r.kt)("td",{parentName:"tr",align:null},"600"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"hash")),(0,r.kt)("td",{parentName:"tr",align:null},"Hash function")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#identity"},"0x04")),(0,r.kt)("td",{parentName:"tr",align:null},"identity"),(0,r.kt)("td",{parentName:"tr",align:null},"15"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:null},"Returns the input")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#modexp"},"0x05")),(0,r.kt)("td",{parentName:"tr",align:null},"modexp"),(0,r.kt)("td",{parentName:"tr",align:null},"200"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Bsize, Esize, Msize, B, E, M")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:null},"Arbitrary-precision exponentiation under modulo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#bn256-add"},"0x06")),(0,r.kt)("td",{parentName:"tr",align:null},"ecAdd"),(0,r.kt)("td",{parentName:"tr",align:null},"150"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"x1, y1, x2, y2")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"x, y")),(0,r.kt)("td",{parentName:"tr",align:null},"Point addition (ADD) on the elliptic curve ",(0,r.kt)("inlineCode",{parentName:"td"},"alt_bn128"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#bn256-multiply"},"0x07")),(0,r.kt)("td",{parentName:"tr",align:null},"ecMul"),(0,r.kt)("td",{parentName:"tr",align:null},"6000"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"x1, y1, s")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"x, y")),(0,r.kt)("td",{parentName:"tr",align:null},"Scalar multiplication (MUL) on the elliptic curve ",(0,r.kt)("inlineCode",{parentName:"td"},"alt_bn128"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#bn256-pairing"},"0x08")),(0,r.kt)("td",{parentName:"tr",align:null},"ecPairing"),(0,r.kt)("td",{parentName:"tr",align:null},"45000"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"x1, y1, x2, y2, ..., xk, yk")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"success")),(0,r.kt)("td",{parentName:"tr",align:null},"Bilinear function on groups on the elliptic curve ",(0,r.kt)("inlineCode",{parentName:"td"},"alt_bn128"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#blake2-f"},"0x09")),(0,r.kt)("td",{parentName:"tr",align:null},"blake2f"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"rounds, h, m, t, f")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"h")),(0,r.kt)("td",{parentName:"tr",align:null},"Compression function F used in the BLAKE2 cryptographic hashing algorithm")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#random-seed"},"0xc104f4840573bed437190daf5d2898c2bdf928ac")),(0,r.kt)("td",{parentName:"tr",align:null},"randomSeed"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},".")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"hash")),(0,r.kt)("td",{parentName:"tr",align:null},"Returns a hash from a per block entropy source from NEAR")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#predecessor-account-id"},"0x723ffbaba940e75e7bf5f6d61dcbf8d9a4de0fd7")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"predecessorAccountId")),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},".")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"accountId")),(0,r.kt)("td",{parentName:"tr",align:null},"Returns the NEAR predecessor account ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#get-promise-results"},"0x0a3540f79be10ef14890e87c1a0040a68cc6af71")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"getPromiseResults")),(0,r.kt)("td",{parentName:"tr",align:null},"125"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},".")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:null},"Returns a Borsh serialized vector of PromiseResult")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#prepaid-gas"},"0x536822d27de53629ef1f84c60555689e9488609f")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"prepaidGas")),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},".")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:null},"Returns the prepaid gas in NEAR")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#exit-to-near"},"0xe9217bc70b7ed1f598ddd3199e80b093fa71124f")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"exitToNear")),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"flag, <amount>, nearAccountId")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},".")),(0,r.kt)("td",{parentName:"tr",align:null},"Used in exiting from Aurora to the NEAR ecosystem as NEP-141 fungible tokens")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#exit-to-ethereum"},"0xb0bd02f6a392af548bdf1cfaee5dfa0eefcc8eab")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"exitToEthereum")),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"flag, <amount>, ethAddress")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},".")),(0,r.kt)("td",{parentName:"tr",align:null},"Used in exiting from Aurora to Ethereum over the Rainbow bridge")))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Some precompiles currently have a gas value of 0. This is temporary as it is difficult to determine\nan exact gas value. However, the ones that this applies to the gas cost are generally negligible.")),(0,r.kt)("h2",{id:"ecrecover"},"ECRecover"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix F"),(0,r.kt)("p",null,"More information about ECDSA can be\nfound ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm"},"here"),"."),(0,r.kt)("h3",{id:"inputs"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"hash"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Keccak-256 hash of the transaction")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"v"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Recovery identifier, expected to be either 27 or 28")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[64; 95]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"r"),(0,r.kt)("td",{parentName:"tr",align:"left"},"x-value, expected to be in the range ",(0,r.kt)("inlineCode",{parentName:"td"},"]0; secp256k1n["))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[96; 127]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"s"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Expected to be in the range ",(0,r.kt)("inlineCode",{parentName:"td"},"]0; secp256k1n["))))),(0,r.kt)("h3",{id:"output"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"publicAddress"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The recovered 20-byte address right aligned to 32 bytes")))),(0,r.kt)("p",null,"If an address cannot be recovered, or not enough gas was given, then there is no return data. Please\nnote, that the return is the address that issued the signature but it won't verify the signature."),(0,r.kt)("h2",{id:"sha2-256"},"SHA2-256"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E. Precompiled Contracts"),(0,r.kt)("p",null,"More information about SHA2 can be found ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/SHA-2"},"here"),"."),(0,r.kt)("h3",{id:"inputs-1"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; length]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Data to hash with SHA2-256")))),(0,r.kt)("h3",{id:"output-1"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"hash"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The result hash")))),(0,r.kt)("p",null,"If not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"ripemd-160"},"RIPEMD-160"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E. Precompiled Contracts"),(0,r.kt)("p",null,"More information can be found ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/RIPEMD"},"here"),"."),(0,r.kt)("h3",{id:"inputs-2"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; length]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Data to hash with RIPEMD-160")))),(0,r.kt)("h3",{id:"output-2"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"hash"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The result 20-byte hash right aligned to 32 bytes")))),(0,r.kt)("p",null,"If not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"identity"},"Identity"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E. Precompiled Contracts"),(0,r.kt)("p",null,"The identity function is typically used to copy a chunk of memory."),(0,r.kt)("h3",{id:"inputs-3"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; length]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Data to return")))),(0,r.kt)("h3",{id:"output-3"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; length]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Data from input")))),(0,r.kt)("p",null,"If not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"modexp"},"ModExp"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E. Precompiled Contracts"),(0,r.kt)("p",null,"Arbitrary-precision exponentiation under modulo."),(0,r.kt)("h3",{id:"inputs-4"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Bsize"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Byte size of B")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Esize"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Byte size of E")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[64; 95]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Msize"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Byte size of M")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[96; 96 + Bsize]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"B"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Base as unsigned integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[96 + Bsize; 96 + Bsize + Esize]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"E"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Exponent as unsigned integer, if zero, then ",(0,r.kt)("inlineCode",{parentName:"td"},"B ** E")," will be one")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[96 + Bsize + Esize; 96 + Bsize + Esize + Msize]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"M"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Modulo as unsigned integer, if zero, then returns zero")))),(0,r.kt)("h3",{id:"output-4"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; mSize]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"value"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Result of the computation, with the same number of bytes as M")))),(0,r.kt)("p",null,"If not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"bn256-add"},"BN256 Add"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E.1 zkSNARK Related Precompiled Contract"),(0,r.kt)("p",null,"The point at infinity is encoded with both fields ",(0,r.kt)("inlineCode",{parentName:"p"},"x")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," at ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,r.kt)("h3",{id:"inputs-5"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X coordinate of the first point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y coordinate of the first point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[64; 95]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x2"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X coordinate of the second point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[96; 127]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y2"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y coordinate of the second point on the elliptic curve 'alt_bn128'")))),(0,r.kt)("h3",{id:"output-5"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X coordinate of the result point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y coordinate of the result point on the elliptic curve 'alt_bn128'")))),(0,r.kt)("p",null,"If the input is not valid, or if not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"bn256-multiply"},"BN256 Multiply"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E.1 zkSNARK Related Precompiled Contract"),(0,r.kt)("p",null,"The point at infinity is encoded with both fields ",(0,r.kt)("inlineCode",{parentName:"p"},"x")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," at ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,r.kt)("h3",{id:"inputs-6"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X coordinate of the first point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y coordinate of the first point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[64; 95]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"s"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Scalar to use for the multiplication")))),(0,r.kt)("h3",{id:"output-6"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X coordinate of the result point on the elliptic curve 'alt_bn128'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y coordinate of the result point on the elliptic curve 'alt_bn128'")))),(0,r.kt)("p",null,"If the input is not valid, or if not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"bn256-pairing"},"BN256 Pairing"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E.1 zkSNARK Related Precompiled Contract"),(0,r.kt)("p",null,"The point at infinity is encoded with both fields ",(0,r.kt)("inlineCode",{parentName:"p"},"x")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," at ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,r.kt)("h3",{id:"inputs-7"},"Inputs"),(0,r.kt)("p",null,"The input must always be a multiple of 6 32-byte values. 0 inputs are valid and return 1. One set of\ninputs are defined as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x1"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[32; 63]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y1"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[64; 95]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x3"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[96; 127]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"x2"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[128; 159]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y3"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[160; 191]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"y2"),(0,r.kt)("td",{parentName:"tr",align:"left"})))),(0,r.kt)("h3",{id:"output-7"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"success"),(0,r.kt)("td",{parentName:"tr",align:"left"},"1 if the pairing was a success, 0 otherwise")))),(0,r.kt)("p",null,"If the input is not valid, or if not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"blake2-f"},"Blake2 F"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Ethereum ",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.github.io/yellowpaper/paper.pdf"},"yellow paper"),", appendix E.2. BLAKE2 Precompiled Contract"),(0,r.kt)("p",null,"The Blake2 F compression algorithm is defined in this ",(0,r.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc7693#section-3.2"},"RFC"),", section 3.2."),(0,r.kt)("h3",{id:"inputs-8"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 3]")," (4 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"rounds"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Number of rounds (big-endian unsigned integer)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[4; 67]")," (64 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"h"),(0,r.kt)("td",{parentName:"tr",align:"left"},"State vector (8 8-byte little-endian unsigned integer)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[68; 195]")," (128 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"m"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Message block vector (16 8-byte little-endian unsigned integer)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[196; 211]")," (16 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"t"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Offset counters (2 8-byte little-endian integer)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[212; 212]")," (1 byte)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"f"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Final block indicator flag (0 or 1)")))),(0,r.kt)("h3",{id:"output-8"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 63]")," (64 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"h"),(0,r.kt)("td",{parentName:"tr",align:"left"},"State vector (8 8-byte little-endian unsigned integer)")))),(0,r.kt)("p",null,"If the input is not valid, or if not enough gas was given, then there is no return data."),(0,r.kt)("h2",{id:"random-seed"},"Random Seed"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Pending AIP"),(0,r.kt)("p",null,"A random seed generated per block from NEAR."),(0,r.kt)("h3",{id:"inputs-9"},"Inputs"),(0,r.kt)("p",null,"No input is required."),(0,r.kt)("h3",{id:"output-9"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"hash"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Random seed bytes")))),(0,r.kt)("h2",{id:"predecessor-account-id"},"Predecessor Account ID"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Pending AIP"),(0,r.kt)("p",null,"Returns the NEAR predecessor account submitting the transaction."),(0,r.kt)("h3",{id:"inputs-10"},"Inputs"),(0,r.kt)("p",null,"No input is required."),(0,r.kt)("h3",{id:"output-10"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; length]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"account id"),(0,r.kt)("td",{parentName:"tr",align:"left"},"NEAR predecessor account ID")))),(0,r.kt)("h2",{id:"get-promise-results"},"Get Promise Results"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Pending AIP"),(0,r.kt)("p",null,"Returns the promise results as bytes from executing a NEAR promise."),(0,r.kt)("h3",{id:"inputs-11"},"Inputs"),(0,r.kt)("p",null,"No input is required."),(0,r.kt)("h3",{id:"output-11"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"borsh([0; length])")),(0,r.kt)("td",{parentName:"tr",align:"center"},"promises"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Borsh encoded promises")))),(0,r.kt)("h2",{id:"prepaid-gas"},"Prepaid Gas"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Pending AIP"),(0,r.kt)("p",null,"Returns the prepaid gas denoted in NEAR as part of the underlying NEAR transaction."),(0,r.kt)("h3",{id:"inputs-12"},"Inputs"),(0,r.kt)("p",null,"No input is required."),(0,r.kt)("h3",{id:"output-12"},"Output"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0; 31]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"gas"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prepaid gas value")))),(0,r.kt)("h2",{id:"exit-to-near"},"Exit to NEAR"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Pending AIP"),(0,r.kt)("p",null,"Transfers either ETH or a NEP-141 mapped ERC-20 token from the Aurora EVM to Near as NEP-141."),(0,r.kt)("p",null,"This can only be invoked through Engine self-deployed NEP-141 mapped ERC-20\ncontracts using the ",(0,r.kt)("inlineCode",{parentName:"p"},"deploy_erc20_token")," method on the EVM."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"For completeness, the details are included anyways even though you can not directly interface with\nthis precompile.")),(0,r.kt)("h3",{id:"inputs-13"},"Inputs"),(0,r.kt)("p",null,"There are two kinds of inputs depending on if you are withdrawing ETH or ERC-20 from a NEP-141\nmapped ERC-20 contract."),(0,r.kt)("h4",{id:"eth-withdraw"},"ETH withdraw"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0]")," (1 byte)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"flag"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The flag must be set as 0x0 for ETH transfer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[1; length]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"account_id"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The NEAR recipient account which will receive ETH tokens as NEP-141 tokens")))),(0,r.kt)("h4",{id:"erc-20-withdraw"},"ERC-20 withdraw"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0]")," (1 byte)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"flag"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The flag must be set as 0x1 for ERC-20 transfer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[1; 32]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"amount"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The amount value which is required only for ERC-20 transfers")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[33; length]")),(0,r.kt)("td",{parentName:"tr",align:"center"},"account_id"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The NEAR recipient account which will receive ERC-20 tokens as NEP-141 tokens")))),(0,r.kt)("h3",{id:"output-13"},"Output"),(0,r.kt)("p",null,"There is no output except for log emissions which will trigger the transfer of NEP-141 tokens."),(0,r.kt)("h2",{id:"exit-to-ethereum"},"Exit to Ethereum"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Spec"),": Pending AIP"),(0,r.kt)("p",null,"Transfers either ETH or a NEP-141 mapped ERC-20 token from the Aurora EVM to Ethereum over\nthe ",(0,r.kt)("a",{parentName:"p",href:"/bridge/bridge-overview"},"Rainbow Bridge"),"."),(0,r.kt)("p",null,"This can only be invoked through Engine self-deployed NEP-141 mapped ERC-20\ncontracts using the ",(0,r.kt)("inlineCode",{parentName:"p"},"deploy_erc20_token")," method on the EVM."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"For completeness, the details are included anyways even though you can not directly interface with\nthis precompile.")),(0,r.kt)("h3",{id:"inputs-14"},"Inputs"),(0,r.kt)("p",null,"There are two kinds of inputs depending on if you are withdrawing ETH or ERC-20 from a NEP-141\nmapped ERC-20 contract."),(0,r.kt)("h4",{id:"eth-withdraw-1"},"ETH withdraw"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0]")," (1 byte)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"flag"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The flag must be set as 0x0 for ETH transfer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[1; 20]")," (20 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"eth_address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The ETH recipient address which will receive ETH tokens on Ethereum")))),(0,r.kt)("h4",{id:"erc-20-withdraw-1"},"ERC-20 withdraw"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Byte range"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[0]")," (1 byte)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"flag"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The flag must be set as 0x1 for ERC-20 transfer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[1; 32]")," (32 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"amount"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The amount value which is required only for ERC-20 transfers")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"[33; 52]")," (20 bytes)"),(0,r.kt)("td",{parentName:"tr",align:"center"},"eth_address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The ETH recipient address which will receive ERC-20 tokens on Ethereum")))),(0,r.kt)("h3",{id:"output-14"},"Output"),(0,r.kt)("p",null,"There is no output except for log emissions which will trigger the transfer from Aurora EVM to the\nEthereum blockchain."))}N.isMDXComponent=!0}}]);